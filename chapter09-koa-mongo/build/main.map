{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./nuxt.config.js","webpack:///./server/config/index.js","webpack:///./server/config/mongodb.js","webpack:///./server/index.js","webpack:///./server/middlewares.js","webpack:///./server/mongo.js","webpack:///./server/routes.js","webpack:///external \"consola\"","webpack:///external \"koa\"","webpack:///external \"koa-bodyparser\"","webpack:///external \"koa-favicon\"","webpack:///external \"koa-router\"","webpack:///external \"koa-static\"","webpack:///external \"mongodb\"","webpack:///external \"nuxt\""],"names":["module","exports","mode","target","head","title","process","env","npm_package_name","meta","charset","name","content","hid","npm_package_description","link","rel","type","href","loading","color","css","plugins","components","modules","build","extend","config","ctx","static_dir","root","database","host","port","dbname","url","app","Koa","require","dev","start","nuxt","Nuxt","HOST","PORT","options","server","builder","Builder","ready","middlewares","use","status","respond","req","render","res","listen","consola","message","badge","next","throw","body","data","err","emit","serve","favicon","bodyParser","routes","allowedMethods","MongoClient","mongodb","Mongo","constructor","connection","objectId","ObjectId","connect","useUnifiedTopology","useNewUrlParser","db","close","mongo","router","Router","prefix","get","result","collectionUsers","collection","find","toArray","id","params","findOne","_id","post","request","undefined","slug","found","insertOne","ops","put","$ne","updateOne","$set","$currentDate","lastModified","del","deleteOne"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./server/index.js\");\n","module.exports = {\n  /*\n  ** Nuxt rendering mode\n  ** See https://nuxtjs.org/api/configuration-mode\n  */\n  mode: 'universal',\n\n  /*\n  ** Nuxt target\n  ** See https://nuxtjs.org/api/configuration-target\n  */\n  target: 'server',\n\n  /*\n  ** Headers of the page\n  ** See https://nuxtjs.org/api/configuration-head\n  */\n  head: {\n    title: process.env.npm_package_name || '',\n    meta: [\n      { charset: 'utf-8' },\n      { name: 'viewport', content: 'width=device-width, initial-scale=1' },\n      { hid: 'description', name: 'description', content: process.env.npm_package_description || '' }\n    ],\n    link: [\n      { rel: 'icon', type: 'image/x-icon', href: '/favicon.ico' }\n    ]\n  },\n\n  /*\n  ** Customize the progress-bar color\n  */\n  loading: { color: '#fff' },\n\n  /*\n  ** Global CSS\n  */\n  css: [\n  ],\n\n  /*\n  ** Plugins to load before mounting the App\n  */\n  plugins: [\n  ],\n\n  /*\n  ** Auto import components\n  ** See https://nuxtjs.org/api/configuration-components\n  */\n  components: true,\n\n  /*\n  ** Nuxt.js modules\n  */\n  modules: [\n  ],\n\n  /*\n  ** Build configuration\n  */\n  build: {\n    /*\n    ** You can extend webpack config here\n    */\n    extend(config, ctx) {\n    }\n  }\n}\n","'use strict'\n\nexport default {\n  static_dir: {\n    root: '../static'\n  }\n}\n","'use strict'\n\nconst database = {\n  host: 'cluster0.3h1po.mongodb.net',\n  port: 27017,\n  dbname: 'nuxt'\n}\n\nexport default {\n  host: database.host,\n  port: database.port,\n  dbname: database.dbname,\n  url: 'mongodb+srv://adminuser:Hola1234.@cluster0.3h1po.mongodb.net/'\n}\n","import Koa from 'koa'\nimport consola from 'consola'\nimport { Nuxt, Builder } from 'nuxt'\nimport middlewares from './middlewares'\n\nconst app = new Koa()\n\n// Import and Set Nuxt.js options\nconst config = require('../nuxt.config.js')\nconfig.dev = !(app.env === 'production')\n\nasync function start() {\n  // Instantiate nuxt.js\n  const nuxt = new Nuxt(config)\n\n  const {\n    host = process.env.HOST || '127.0.0.1',\n    port = process.env.PORT || 3000\n  } = nuxt.options.server\n\n  // Build in development\n  if (config.dev) {\n    const builder = new Builder(nuxt)\n    await builder.build()\n  } else {\n    await nuxt.ready()\n  }\n\n  // Middlewares are imported here.\n  middlewares(app)\n\n  app.use((ctx) => {\n    ctx.status = 200\n    ctx.respond = false // Bypass Koa's built-in response handling\n    ctx.req.ctx = ctx // This might be useful later on, e.g. in nuxtServerInit or with nuxt-stash\n    nuxt.render(ctx.req, ctx.res)\n  })\n\n  app.listen(port, host)\n  consola.ready({\n    message: `Server listening on http://${host}:${port}`,\n    badge: true\n  })\n}\n\nstart()\n","'use strict'\n\n// All middlewares are used here.\n// Check other Koa official middlewares: https://github.com/koajs\nimport serve from 'koa-static'\nimport favicon from 'koa-favicon'\nimport bodyParser from 'koa-bodyparser'\nimport config from './config'\nimport routes from './routes'\n\nexport default (app) => {\n  // Catch and format the error in the upstream.\n  // https://github.com/koajs/koa/wiki/Error-Handling\n  app.use(async (ctx, next) => {\n    try {\n      await next()\n\n      // Handle 404 - throw it as an error.\n      if (ctx.status === 404) {\n        ctx.throw(404)\n      }\n\n      // Use this when you want to format the 200 res further.\n      // e.g. {\"status\":200,\"data\":{\"message\":\"Hello home sample!\"}}\n      // else, you get, e.g. {\"message\":\"Hello home sample!\"}\n      if (ctx.status === 200) {\n        ctx.body = {\n          status: 200,\n          data: ctx.body\n        }\n      }\n    } catch (err) {\n      ctx.status = err.status || 500\n\n      ctx.type = 'json'\n      ctx.body = {\n        status: ctx.status,\n        message: err.message\n      }\n\n      ctx.app.emit('error', err, ctx)\n    }\n  })\n\n  // Static files are files that clients download as they are from the server.\n  // Create a new directory, public. Koa, by default doesn't allow you to\n  // serve static files.\n  // https://github.com/koajs/static\n  // https://www.tutorialspoint.com/koajs/koajs_static_files.htm\n  app.use(serve(config.static_dir.root))\n\n  // Add favicon.\n  app.use(favicon('static/favicon.ico'))\n\n  // The parsed body will store in ctx.request.body\n  // If nothing was parsed, body will be an empty object {}\n  // https://github.com/koajs/bodyparser\n  // https://github.com/koajs/koa/issues/719\n  app.use(bodyParser())\n\n  // Add routes.\n  app.use(routes.routes(), routes.allowedMethods())\n}\n","'use strict'\n\nimport mongodb from 'mongodb'\nimport config from './config/mongodb'\n\nconst MongoClient = mongodb.MongoClient\n\nexport default class Mongo {\n  constructor () {\n    this.connection = null\n    // https://docs.mongodb.com/manual/reference/method/ObjectId/index.html#ObjectId\n    // https://stackoverflow.com/questions/28895067/using-uuids-instead-of-objectids-in-mongodb\n    this.objectId = mongodb.ObjectId\n  }\n\n  async connect () {\n    // Use connect method to connect to the Server.\n    // https://stackoverflow.com/questions/50448272/avoid-current-url-string-parser-is-deprecated-warning-by-setting-usenewurlpars\n    this.connection = await MongoClient.connect(config.url, {\n      useUnifiedTopology: true,\n      useNewUrlParser: true\n    })\n    return this.connection.db(config.dbname)\n  }\n\n  close () {\n    this.connection.close()\n  }\n}\n\n// const mongo = async () => {\n//   // Use connect method to connect to the Server\n//   const client = await MongoClient.connect(config.url)\n//   const db = client.db(config.dbname)\n//   return db\n// }\n\n// export default mongo\n","'use strict'\n\nimport Router from 'koa-router'\nimport Mongo from './mongo'\nconst mongo = new Mongo()\nconst router = new Router({ prefix: '/api' })\n\n// Home page.\nrouter.get('/', async (ctx, next) => {\n  ctx.type = 'json'\n  ctx.body = {\n    message: 'Hello World!'\n  }\n})\n\n// Get all users.\nrouter.get('/users', async (ctx, next) => {\n  let result\n  try {\n    // Get the connection.\n    const connection = await mongo.connect()\n\n    // Get the collection.\n    const collectionUsers = connection.collection('users')\n\n    // Find all docs.\n    result = await collectionUsers.find().toArray()\n\n    // Close the connection.\n    mongo.close()\n  } catch (err) {\n    // Get the error message and do something.\n    // console.log(err.message)\n\n    // Throw the error.\n    ctx.throw(500, err)\n  }\n\n  ctx.type = 'json'\n  ctx.body = result\n})\n\n// Get the user by id.\nrouter.get('/users/:id', async (ctx, next) => {\n  // const id = parseInt(ctx.params.id) // or ctx.request.params.id\n  const id = ctx.params.id\n\n  let result\n  try {\n    // Get the connection.\n    const connection = await mongo.connect()\n\n    // Get the collection.\n    const collectionUsers = connection.collection('users')\n\n    // Find one doc.\n    // https://stackoverflow.com/questions/48294613/mongo-find-function-wont-exclude-id\n    result = await collectionUsers.findOne({\n      _id: mongo.objectId(id)\n    })\n    mongo.close()\n  } catch (err) {\n    // Get the error message and do something.\n    // console.log(err.message)\n\n    // Throw the error.\n    ctx.throw(500, err)\n  }\n\n  if (result) {\n    ctx.type = 'json'\n    ctx.body = result\n  } else {\n    ctx.throw(404, 'user not found')\n  }\n})\n\n// Add a user.\nrouter.post('/user', async (ctx, next) => {\n  // Get the parsed data.\n  let body = ctx.request.body || {}\n\n  if (body.name === undefined) {\n    ctx.throw(400, 'name is undefined')\n  }\n  if (body.slug === undefined) {\n    ctx.throw(400, 'slug is undefined')\n  }\n  if (body.name === '') {\n    ctx.throw(400, 'name is required')\n  }\n  if (body.slug === '') {\n    ctx.throw(400, 'slug is required')\n  }\n\n  let result\n  try {\n    // Get the connection.\n    const connection = await mongo.connect()\n\n    // Get the collection.\n    const collectionUsers = connection.collection('users')\n\n    // Find one doc.\n    const found = await collectionUsers.findOne({\n      slug: body.slug\n    })\n    if (found) {\n      ctx.throw(404, 'slug has been taken')\n    }\n\n    // Insert a doc.\n    result = await collectionUsers.insertOne({\n      name: body.name,\n      slug: body.slug,\n      // username: body.username,\n      // password: body.password,\n      // email: body.email\n    })\n    mongo.close()\n  } catch (err) {\n    // Get the error message and do something.\n    // console.log(err.message)\n\n    // Throw the error.\n    ctx.throw(500, err)\n  }\n\n  if (result) {\n    ctx.type = 'json'\n    ctx.body = result.ops\n  } else {\n    ctx.throw(404, 'insert user failed')\n  }\n})\n\n// Update a user.\nrouter.put('/user', async (ctx, next) => {\n  // Get the parsed data.\n  let body = ctx.request.body || {}\n\n  if (body.id === undefined) {\n    ctx.throw(400, 'id is undefined')\n  }\n  if (body.name === undefined) {\n    ctx.throw(400, 'name is undefined')\n  }\n  if (body.slug === undefined) {\n    ctx.throw(400, 'slug is undefined')\n  }\n  if (body.id === '') {\n    ctx.throw(400, 'id is required')\n  }\n  if (body.name === '') {\n    ctx.throw(400, 'name is required')\n  }\n  if (body.slug === '') {\n    ctx.throw(400, 'slug is required')\n  }\n\n  let result\n  try {\n    // Get the connection.\n    const connection = await mongo.connect()\n\n    // Get the collection.\n    const collectionUsers = connection.collection('users')\n\n    // Find one doc except itself.\n    const found = await collectionUsers.findOne({\n      slug: body.slug,\n      // https://docs.mongodb.com/manual/reference/operator/query/ne/#op._S_ne\n      // https://stackoverflow.com/questions/18439612/mongodb-find-all-except-from-one-or-two-criteria\n      _id: { $ne: mongo.objectId(body.id) }\n    })\n    if (found) {\n      ctx.throw(404, 'slug has been taken')\n    }\n\n    // Update a doc.\n    result = await collectionUsers.updateOne({\n      _id: mongo.objectId(body.id)\n    }, {\n       $set: { name: body.name, slug: body.slug },\n       $currentDate: { lastModified: true }\n    })\n    mongo.close()\n  } catch (err) {\n    // Get the error message and do something.\n    // console.log(err.message)\n\n    // Throw the error.\n    ctx.throw(500, err)\n  }\n\n  if (result) {\n    ctx.type = 'json'\n    ctx.body = result.result\n  } else {\n    ctx.throw(404, 'insert user failed')\n  }\n})\n\n// Delete a user.\nrouter.del('/user', async (ctx, next) => {\n  // Get the parsed data.\n  let body = ctx.request.body || {}\n\n  if (body.id === undefined) {\n    ctx.throw(400, 'id is undefined')\n  }\n  if (body.id === '') {\n    ctx.throw(400, 'id is required')\n  }\n\n  let result\n  try {\n    // Get the connection.\n    const connection = await mongo.connect()\n\n    // Get the collection.\n    const collectionUsers = connection.collection('users')\n\n    // Find one doc.\n    const found = await collectionUsers.findOne({\n      _id: mongo.objectId(body.id)\n    })\n    if (!found) {\n      ctx.throw(404, 'no user found')\n    }\n\n    // Delete a doc.\n    result = await collectionUsers.deleteOne({\n      _id: mongo.objectId(body.id)\n    })\n    mongo.close()\n  } catch (err) {\n    // Get the error message and do something.\n    // console.log(err.message)\n\n    // Throw the error.\n    ctx.throw(500, err)\n  }\n\n  if (result) {\n    ctx.type = 'json'\n    ctx.body = result.result\n  } else {\n    ctx.throw(404, 'delete user failed')\n  }\n})\n\nexport default router\n","module.exports = require(\"consola\");","module.exports = require(\"koa\");","module.exports = require(\"koa-bodyparser\");","module.exports = require(\"koa-favicon\");","module.exports = require(\"koa-router\");","module.exports = require(\"koa-static\");","module.exports = require(\"mongodb\");","module.exports = require(\"nuxt\");"],"sourceRoot":""}